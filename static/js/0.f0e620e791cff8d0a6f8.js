webpackJsonp([0],{TmV0:function(e,t,a){a("fZOM"),e.exports=a("FeBl").Object.values},W6wv:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a("gRE1"),i=a.n(n),r=a("Xxa5"),s=a.n(r),o=a("exGp"),c=a.n(o),d=a("Dd8w"),u=a.n(d),A=a("0xDb"),l=a("NYxO"),f=a("J9nj"),g=a("oUdU"),v=a("vLgD");function p(e,t){return Object(v.a)({url:"/api/rank",method:"get",params:{type:e,page:t}})}var k={components:{baseImage:f.a,refreshList:g.a},data:function(){return{refreshLoading:!1,finished:!1,listLoading:!1,error:!1,tabList:[{lable:"播放数",type:"pageviews"},{lable:"最新",type:"new"},{lable:"点赞数",type:"zan"}],active:"new",videoList:[],page:1,ad:[]}},computed:u()({},Object(l.d)(["isShowAd"])),mounted:function(){this.getAd()},methods:{timeRender:function(){return A.e.apply(void 0,arguments)},onRefresh:function(){var e=this;return c()(s.a.mark(function t(){return s.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e.videoList=[],e.page=1,t.next=4,e.adHandler();case 4:return t.next=6,e.videoRank();case 6:e.$toast("刷新成功"),e.refreshLoading=!1;case 8:case"end":return t.stop()}},t,e)}))()},goPlayVideo:function(e){this.$router.push({path:"/playVideo",query:{id:e}})},onLoad:function(){this.videoRank()},videoRank:function(e){var t=this;return c()(s.a.mark(function a(){var n,r;return s.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:if(!e){a.next=9;break}if(e===t.active){a.next=6;break}return t.page=1,t.videoList=[],a.next=6,t.adHandler();case 6:t.active=e,a.next=10;break;case 9:e=t.active;case 10:return a.prev=10,a.next=13,p(e,t.page);case 13:if(n=a.sent,(r=n.rescont).data instanceof Array||(r.data=i()(r.data).filter(function(e){return void 0!==e.pageviews})),t.videoList=1===t.page?r.data:t.videoList.concat(r.data),t.page=t.page+1,null!==r.next_page_url){a.next=22;break}return t.listLoading=!1,t.finished=!0,a.abrupt("return");case 22:a.next=28;break;case 24:a.prev=24,a.t0=a.catch(10),console.warn(a.t0),t.error=!0;case 28:t.finished=!1,t.listLoading=!1;case 30:case"end":return a.stop()}},a,t,[[10,24]])}))()},getAd:function(){var e=this;return c()(s.a.mark(function t(){return s.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(v.a)({url:"/api/adinfo/EXPLODE/0"}).then(function(t){t.rescont&&(e.ad=Object(A.c)(t.rescont))});case 2:case"end":return t.stop()}},t,e)}))()},adHandler:function(){var e=this;return c()(s.a.mark(function t(){return s.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(0!==e.ad.length){t.next=5;break}return t.next=3,e.getAd();case 3:t.next=6;break;case 5:e.ad=Object(A.c)(e.ad);case 6:case"end":return t.stop()}},t,e)}))()}}},m={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"find-rank"},[n("div",{staticClass:"rank-tab"},[n("div",{staticClass:"rank-tab-item-warp"},e._l(e.tabList,function(t){return n("div",{key:t.type,staticClass:"rank-tab-item",class:{active:e.active===t.type},on:{click:function(a){return e.videoRank(t.type)}}},[e._v("\n        "+e._s(t.lable)+"\n      ")])}),0)]),e._v(" "),n("refresh-list",{staticClass:"find-rank-content",attrs:{"refresh-loading":e.refreshLoading,"list-loading":e.listLoading,finished:e.finished,error:e.error},on:{"update:refreshLoading":function(t){e.refreshLoading=t},"update:refresh-loading":function(t){e.refreshLoading=t},"update:listLoading":function(t){e.listLoading=t},"update:list-loading":function(t){e.listLoading=t},"update:error":function(t){e.error=t},refresh:e.onRefresh,load:e.onLoad}},e._l(e.videoList,function(t,i){return n("div",{key:t.id.toString(),staticClass:"video-item",on:{click:function(a){return e.goPlayVideo(t.id)}}},[i%5==0&&e.ad.length>0?n("a",{directives:[{name:"show",rawName:"v-show",value:e.isShowAd,expression:"isShowAd"}],attrs:{href:e.ad[i%(e.ad.length-1)].url,target:"_blank"}},[n("base-image",{staticClass:"video-item-img",staticStyle:{"margin-bottom":"15px"},attrs:{height:"40vw",url:e.ad[i%(e.ad.length-1)].imgbase64.url,type:e.ad[i%(e.ad.length-1)].imgbase64.type,encrypt:""}})],1):e._e(),e._v(" "),n("div",{staticClass:"video-img-box"},[n("base-image",{staticClass:"video-item-img",attrs:{height:"50vw",url:t.coverbase64.url,type:t.coverbase64.type,encrypt:""}}),e._v(" "),n("div",{staticClass:"video-info"},[n("div",{staticClass:"video-info-item"},[n("img",{attrs:{src:a("kE1L")}}),e._v(e._s(e.timeRender(t.created_at))+"\n          ")]),e._v(" "),n("div",{staticClass:"video-info-item"},[n("img",{attrs:{src:a("jDfM")}}),e._v("\n            "+e._s((t.pageviews/1e4).toFixed(0)+"万")+"\n          ")]),e._v(" "),n("div",{staticClass:"video-info-item"},[n("img",{attrs:{src:a("j0TT")}}),e._v(e._s(t.playtimes)+"\n          ")])])],1),e._v(" "),n("div",{staticClass:"ideo-title"},[e._v(e._s(t.title))])])}),0)],1)},staticRenderFns:[]};var h=a("VU/8")(k,m,!1,function(e){a("bE7o")},null,null);t.default=h.exports},bE7o:function(e,t){},fZOM:function(e,t,a){var n=a("kM2E"),i=a("mbce")(!1);n(n.S,"Object",{values:function(e){return i(e)}})},gRE1:function(e,t,a){e.exports={default:a("TmV0"),__esModule:!0}},j0TT:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACQAAAAkCAQAAABLCVATAAACgUlEQVRIx52WPUxTURiG33tbLAGD4HgTGGCQ1VGJbJ2AmJqYEKuDA5GYGAcXR00Mk/yNJiSoiYuL0agQJHUguLkYg5o4AXYx/LVCwFoehx5Kf865Lf2Gm9zzvee93/3+PTmEDg0ori4FCiSlldaqPuidt6X6hQQpctgkR4pEfSR9LFdc3uZPxckyfeEkEaaK4B1mSNJNVJJoo5ckL8kW9VNEXDTtLBjQL0ZosWJi3OW3QS3QbqdZMYBxWkPtbivavVJFRcRYk63Pldxg31hV/oPmG3v01x3ZS4ZqqjxSAIcMWa/4nHJYVZDjCPIJgGkrPGCNHc5bddOFZDhOP4B1mq3g6wA8dLi9EMGE5Eu6I0ka8/atzmgqeVaIl9EjyTDQQQ7YIuZw6k0AxhzaGBkgR4evQUUlvfEO1IB4B5qXFNWgr7gk6a0aldeSpLivTknSl4aJPkuSOn0Fkv7pZ8NEaUlSUCDa9/JO4K4kqdfppYx2JQUiC2yGlEIXfwF47ERsAxnxA8jTFEJ135TCA6s2CsB38RGAntACHTdU9yy6bgBS4jkAwzVq/YmhulWlSQLw9KiGZ2sQ+bwAIM+1Cs0MAElxlhywYW+tZb54ZXp5iT9pYQfI0S6JFACjNVtZjHngW9nZCACLpW1kldM1qSL0c6bkvZU0AJePDgqTbPKkSW2iuVTZavNcORFNwkTygq35X6ybpt8Mywn7ONqrzyqG2ANgrmreFgdknslwt9PMNIcAfC11vW1krzLqHNm3WTeoOStN1RKxwSzD9BTSjwjnuMoztor6CecS4Vhr8mySrdiWlsoi1eCitVhMv/IGF7L6DSquTgUKhNJKa00Leu9a/f4Dn43F6DuIkakAAAAASUVORK5CYII="},jDfM:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACQAAAAkCAQAAABLCVATAAACqklEQVRIx6XWS2hdVRTG8e/eJFpbbZXGpB2UYqNYQ4uWUhVROnMk6KAgKmoHHdSRtZ2oiBRfHVvwhaITRcRBhBIrgm/rm0LpAxVFi4k21raJ0ZBnfw7uNblJ7m1OmjXa69tr/ffZsNY6O5nDLPKqUhZqVvoaKxaK2agHbFoY5iZDKnb/QjBXOomfHUPX+WMucBgndNiJIUvOF/QM/rYhsdJo7eU86+bimKuMY1fVexnHLap6R4x7uCjoNfROpl5hGI8kibJh8HSx2hnD9hrlQQzqTNxIFfXY3KDtGHfxNG0fftVuD570Cs66dS7QfhycobXqxTd+wEZNPsDvltdLv8GF1dWfeG7W/mYj4JcksUo/XpyNadXrgSRxCdhW56htYHfV24kRq2YGvY4B6xJrwV11L73XWWuq64v8gb3TAzpNgB6d1oD76oKaPV7j7UGfcm3AS+AwTtsCRUrOenDLlFB2Akct8T7GwAuFCvcknqqsy0nWpz3JO6V/c1veSnOSpKNQC3yb5Jop0NVJkk+S0mjuyZvzAB2fzE45yeokyUCSlCZyb95OslpzAdCpJG1TIEmSwYpQmsjd6UpTFX9um8pOOclwkmSyt0rjuTP7Cl1u6XTQj0mSmgFfGsuW9BQAdSTpmwIdSpJcXxtRGi0dKwC6LkltnC/R79J5juN1tXOpUuBvJFmWHfMc7JU26q5lL9aLfu3z+gf/g0Mz5a3gw0LVUzn6K3D77K0u8K7FBTDNusF79TYv8z34QuscmBX2g98aRGpzEJyxQ0sDSIut/qrOrrWNz1rms+qz4SdP2FT7LtJkg0errxMOOHcLafGQfv/bKUd8qttHvjMwqQ7ZNW0uNoRd7nln1Lc+u7XVyyo1+rJszh25Nq1ZnqUZzOn05vN8nAOlkfoZ/wG2eDxvu4yjzAAAAABJRU5ErkJggg=="},kE1L:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACQAAAAkCAQAAABLCVATAAABtUlEQVRIx9WVTUtbQRSGn7m5BCLuxYWC2horiCAWQcgitiCULrrIbyhkWVFwKyhdiCjateAvEHRjKCVQUYNQ3JQY7CYUWj+ouIsSEt8urviB3jg6AfHALOZezjNn3nPmHLg0RbSkKSxNKa2q/e5fLyVVrUFrktJXe486mQH1MU4XEaK8QOxaerbSyD4nVCnw2ewY9bJN1DGcMq99PhGlwgzfaWKRc95ZOk/SzwIZEowSZQRtSpp1EVtzkjY9PCAHwAll9q2vc3CxYAvwgqxVAcw/2uixBn2k0yxfefs3Uvj3Aeku8+v6vn51pBwDlKg4MHwa2PbxgAbngCI+58AY3xwgb5imEohdNDuP56ijrmI/c5CMWuoAUowMv/U+rJjsMSu85YyiU0SXmA/m54NAateEmu7AZMLPyklK3fo6L6mg5gCjr5JONRw6mKRc2NW+cEicrJqtogkX2+xpiCxxsvxh6H5MDbFNniRHxO0wNbNm8iQ54NQGc08dmbw6iJlju+5Wu4GWKD3Jo424tdkAVAUSTqBEoFGBQdIS64+aJD4J0sE4esUPYs4SbRhQN2N0OcleYeY/bBOsUVfx+i0AAAAASUVORK5CYII="}});
//# sourceMappingURL=0.f0e620e791cff8d0a6f8.js.map