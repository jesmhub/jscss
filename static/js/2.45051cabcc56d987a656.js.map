{"version":3,"sources":["webpack:///src/views/find/artist.vue","webpack:///./src/views/find/artist.vue?44a1","webpack:///./src/views/find/artist.vue"],"names":["artist","components","baseImage","data","artistList","activeNav","ad","computed","extends_default","Object","vuex_esm","mounted","this","initData","$refs","addEventListener","_onScrollArtist","created","utils","onScrollArtist","beforeDestroy","removeEventListener","methods","goArtistDetails","$router","push","name","query","artistId","id","navJump","index","els","document","querySelectorAll","el","querySelector","scrollTo","offsetTop","offsetHeight","scrollTop","letterH","lis","i","length","li","_this","asyncToGenerator_default","regenerator_default","a","mark","_callee","_data$rescont","hotArtist","allArtist","wrap","_context","prev","next","request","url","sent","rescont","unshift","letter","list","adList","stop","find_artist","render","_vm","_h","$createElement","_c","_self","staticClass","ref","_l","item","key","_v","_s","on","click","$event","attrs","imagebase64","type","encrypt","round","directives","rawName","value","expression","href","target","staticStyle","width","margin-bottom","imgbase64","height","_e","class","active","substr","staticRenderFns","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"uNAwDAA,GACAC,YACAC,oBAAA,GAEAC,KAJA,WAKA,OACAC,cACAC,UAAA,EACAC,QAIAC,SAAYC,OACZC,OAAAC,EAAA,EAAAD,EACA,cAGAE,QAjBA,WAkBAC,KAAAC,WACAD,KAAAE,MAAAV,WAAAW,iBAAA,SAAAH,KAAAI,kBAEAC,QArBA,WAsBAL,KAAAI,gBAAAP,OAAAS,EAAA,EAAAT,CAAAG,KAAAO,eAAA,MAEAC,cAxBA,WAyBAR,KAAAE,MAAAV,WAAAiB,oBAAA,SAAAT,KAAAI,kBAEAM,SACAC,gBADA,SACAvB,GACAY,KAAAY,QAAAC,MACAC,KAAA,iBACAC,OAAAC,SAAA5B,EAAA6B,OAGAC,QAPA,SAOAC,GACA,IAAAC,EAAAC,SAAAC,iBAAA,kBACA,GAAAF,EAAAD,GAAA,CACA,IAAAI,EAAAH,EAAAD,GACAE,SACAG,cAAA,gBACAC,SAAA,EAAAF,EAAAG,UAAAH,EAAAI,gBAGApB,eAhBA,WAoBA,IAHA,IAAAqB,EAAAP,SAAAG,cAAA,gBAAAI,UACAC,EAAAR,SAAAG,cAAA,kBAAAG,aACAG,EAAAT,SAAAC,iBAAA,mBACAS,EAAA,EAAAA,EAAAD,EAAAE,OAAAD,IAAA,CACA,IAAAE,EAAAH,EAAAC,GAEA,GAAAH,GADAK,EAAAN,aAAAM,EAAAP,UACAG,EAAA,GACA7B,KAAAP,UAAAsC,EACA,SAIA9B,SA7BA,WA6BA,IAAAiC,EAAAlC,KAAA,OAAAmC,IAAAC,EAAAC,EAAAC,KAAA,SAAAC,IAAA,IAAAhD,EAAAiD,EAAAC,EAAAC,EAAA,OAAAN,EAAAC,EAAAM,KAAA,SAAAC,GAAA,cAAAA,EAAAC,KAAAD,EAAAE,MAAA,cAAAF,EAAAE,KAAA,EACAZ,EAAAa,SACAC,IAAA,qBAFA,OACAzD,EADAqD,EAAAK,KAAAT,EAIAjD,EAAA2D,QAAAT,EAJAD,EAIAC,WAAAC,EAJAF,EAIAE,WACAS,SACAC,OAAA,OACAC,KAAAZ,IAEAP,EAAA1C,WAAAkD,EACAR,EAAAxC,GAAAH,EAAA2D,QAAAI,OAVA,wBAAAV,EAAAW,SAAAhB,EAAAL,KAAAC,MC7GeqB,GADEC,OAFjB,WAA0B,IAAAC,EAAA1D,KAAa2D,EAAAD,EAAAE,eAA0BC,EAAAH,EAAAI,MAAAD,IAAAF,EAAwB,OAAAE,EAAA,OAAiBE,YAAA,WAAqBF,EAAA,MAAWG,IAAA,aAAAD,YAAA,eAA2CL,EAAAO,GAAAP,EAAA,oBAAAQ,EAAA/C,GAA8C,OAAA0C,EAAA,MAAgBM,IAAAD,EAAAd,SAAgBS,EAAA,KAAUE,YAAA,kBAA4BL,EAAAU,GAAAV,EAAAW,GAAAH,EAAAd,WAAAM,EAAAU,GAAA,KAAAP,EAAA,MAAqDE,YAAA,mBAA8BL,EAAAO,GAAAC,EAAA,cAAA9E,GAAqC,OAAAyE,EAAA,MAAgBM,IAAA/E,EAAA6B,GAAAqD,IAAkBC,MAAA,SAAAC,GAAyB,OAAAd,EAAA/C,gBAAAvB,OAAqCyE,EAAA,cAAmBE,YAAA,sBAAAU,OAAyCzB,IAAA5D,EAAAsF,YAAA1B,IAAA2B,KAAAvF,EAAAsF,YAAAC,KAAAC,QAAA,GAAAC,MAAA,MAAqFnB,EAAAU,GAAA,KAAAP,EAAA,KAAAH,EAAAU,GAAAV,EAAAW,GAAAjF,cAAA,KAA0D,GAAAsE,EAAAU,GAAA,SAAAjD,GAAAuC,EAAAhE,GAAAsC,OAAA,EAAA6B,EAAA,KAA4DiB,aAAahE,KAAA,OAAAiE,QAAA,SAAAC,MAAAtB,EAAA,SAAAuB,WAAA,aAAwER,OAASS,KAAAxB,EAAAhE,GAAA,GAAAsD,IAAAmC,OAAA,YAAwCtB,EAAA,cAAmBuB,aAAaC,MAAA,OAAAC,gBAAA,QAAsCb,OAAQzB,IAAAU,EAAAhE,GAAA,GAAA6F,UAAAvC,IAAA2B,KAAAjB,EAAAhE,GAAA,GAAA6F,UAAAZ,KAAAa,OAAA,OAAAZ,QAAA,OAA4F,GAAAlB,EAAA+B,SAAiB,GAAA/B,EAAAU,GAAA,KAAAP,EAAA,MAA0BE,YAAA,cAAyBL,EAAAO,GAAAP,EAAA,oBAAAQ,EAAA/C,GAA8C,OAAA0C,EAAA,MAAgBM,IAAAD,EAAAd,OAAAsC,OAAuBC,OAAAjC,EAAAjE,YAAA0B,GAAkCmD,IAAKC,MAAA,SAAAC,GAAyB,OAAAd,EAAAxC,QAAAC,OAA4B0C,EAAA,QAAAH,EAAAU,GAAAV,EAAAW,GAAAH,EAAAd,OAAAwC,OAAA,aAA0D,MAEt1CC,oBCCjB,IAcAC,EAdyBC,EAAQ,OAcjCC,CACE5G,EACAoE,GATF,EAVA,SAAAyC,GACEF,EAAQ,SAaV,kBAEA,MAUeG,EAAA,QAAAJ,EAAiB","file":"static/js/2.45051cabcc56d987a656.js","sourcesContent":["<template>\n  <div class=\"artist\">\n    <!-- 女优列表 -->\n    <ul\n      ref=\"artistList\"\n      class=\"artist-list\">\n      <li\n        v-for=\"(item, index) in artistList\"\n        :key=\"item.letter\">\n        <p class=\"artist-letter\">{{ item.letter }}</p>\n        <ul class=\"artist-list-box\">\n          <li\n            v-for=\"artist in item.list\"\n            :key=\"artist.id\"\n            @click=\"goArtistDetails(artist)\" >\n            <base-image\n              class=\"artist-list-box-img\"\n              :url=\"artist.imagebase64.url\"\n              :type=\"artist.imagebase64.type\"\n              encrypt\n              round/>\n            <p>{{ artist.artist }}</p>\n          </li>\n        </ul>\n        <a\n          v-show=\"isShowAd\"\n          v-if=\"index === 0 && ad.length > 0\"\n          :href=\"ad[0].url\"\n          target=\"_blank\">\n          <base-image\n            style=\" width: 100%; margin-bottom: 15px;\"\n            :url=\"ad[0].imgbase64.url\"\n            :type=\"ad[0].imgbase64.type\"\n            height=\"25vw\"\n            encrypt/>\n        </a>\n      </li>\n    </ul>\n    <!-- 右侧导航 -->\n    <ul class=\"artist-nav\">\n      <li\n        v-for=\"(item, index) in artistList\"\n        :key=\"item.letter\"\n        :class=\"{ active: activeNav === index }\"\n        @click=\"navJump(index)\">\n        <span>{{ item.letter.substr(0, 1) }}</span>\n      </li>\n    </ul>\n  </div>\n</template>\n\n<script>\nimport { throttle } from '@/utils/index'\nimport { mapState } from 'vuex'\nimport baseImage from '@/components/baseImage'\n\nexport default {\n  components: {\n    baseImage\n  },\n  data () {\n    return {\n      artistList: [],\n      activeNav: 0,\n      ad: []\n    }\n  },\n\n  computed: {\n    ...mapState([\n      'isShowAd'\n    ])\n  },\n  mounted () {\n    this.initData()\n    this.$refs.artistList.addEventListener('scroll', this._onScrollArtist)\n  },\n  created () {\n    this._onScrollArtist = throttle(this.onScrollArtist, 200)\n  },\n  beforeDestroy () {\n    this.$refs.artistList.removeEventListener('scroll', this._onScrollArtist)\n  },\n  methods: {\n    goArtistDetails (artist) {\n      this.$router.push({\n        name: 'artist-details',\n        query: { artistId: artist.id }\n      })\n    },\n    navJump (index) {\n      const els = document.querySelectorAll('.artist-letter')\n      if (els[index]) {\n        const el = els[index]\n        document\n          .querySelector('.artist-list')\n          .scrollTo(0, el.offsetTop - el.offsetHeight)\n      }\n    },\n    onScrollArtist () {\n      const scrollTop = document.querySelector('.artist-list').scrollTop\n      const letterH = document.querySelector('.artist-letter').offsetHeight\n      const lis = document.querySelectorAll('.artist-list>li')\n      for (let i = 0; i < lis.length; i++) {\n        const li = lis[i]\n        const h = li.offsetHeight + li.offsetTop\n        if (scrollTop <= h - letterH - 5) {\n          this.activeNav = i\n          break\n        }\n      }\n    },\n    async initData () {\n      const data = await this.request({\n        url: '/api/videoartist'\n      })\n      const { hotArtist, allArtist } = data.rescont\n      allArtist.unshift({\n        letter: '人氣女優',\n        list: hotArtist\n      })\n      this.artistList = allArtist\n      this.ad = data.rescont.adList\n    }\n  }\n}\n</script>\n\n<style lang=\"css\" scoped>\np {\n  padding: 0;\n  margin: 0;\n}\n\n.artist {\n  display: flex;\n  flex: 1;\n  overflow: hidden;\n}\n\n.artist-list {\n  flex: 1;\n  overflow-y: auto;\n}\n\n.artist-nav {\n  display: flex;\n  flex-direction: column;\n  width: 30px;\n}\n\n.artist-nav li {\n  display: flex;\n  flex: 1;\n  align-items: center;\n  justify-content: center;\n  color: #9a9da4;\n}\n\n.artist-nav li.active {\n  color: #ff5c38;\n}\n\n.artist-letter {\n  padding: 10px;\n  padding-left: 15px;\n  margin-bottom: 15px;\n  font-size: 15px;\n  font-weight: bold;\n  color: rgba(0, 229, 240, 1);\n  text-align: left;\n  background-color: #0e121b;\n}\n\n.artist-list > li:nth-child(1) .artist-letter {\n  color: #ea347b;\n}\n\n.artist-list-box {\n  display: flex;\n  flex-wrap: wrap;\n  overflow-y: auto;\n}\n\n.artist-list-box li {\n  width: 25%;\n  margin-bottom: 15px;\n}\n\n.artist-list-box-img {\n  /* width: 80%; */\n  width: 70px;\n  height: 70px;\n  margin: 0 auto;\n}\n\n.artist-list-box li p {\n  margin-top: 5px;\n  color: rgba(255, 255, 255, 1);\n}\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/views/find/artist.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"artist\"},[_c('ul',{ref:\"artistList\",staticClass:\"artist-list\"},_vm._l((_vm.artistList),function(item,index){return _c('li',{key:item.letter},[_c('p',{staticClass:\"artist-letter\"},[_vm._v(_vm._s(item.letter))]),_vm._v(\" \"),_c('ul',{staticClass:\"artist-list-box\"},_vm._l((item.list),function(artist){return _c('li',{key:artist.id,on:{\"click\":function($event){return _vm.goArtistDetails(artist)}}},[_c('base-image',{staticClass:\"artist-list-box-img\",attrs:{\"url\":artist.imagebase64.url,\"type\":artist.imagebase64.type,\"encrypt\":\"\",\"round\":\"\"}}),_vm._v(\" \"),_c('p',[_vm._v(_vm._s(artist.artist))])],1)}),0),_vm._v(\" \"),(index === 0 && _vm.ad.length > 0)?_c('a',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.isShowAd),expression:\"isShowAd\"}],attrs:{\"href\":_vm.ad[0].url,\"target\":\"_blank\"}},[_c('base-image',{staticStyle:{\"width\":\"100%\",\"margin-bottom\":\"15px\"},attrs:{\"url\":_vm.ad[0].imgbase64.url,\"type\":_vm.ad[0].imgbase64.type,\"height\":\"25vw\",\"encrypt\":\"\"}})],1):_vm._e()])}),0),_vm._v(\" \"),_c('ul',{staticClass:\"artist-nav\"},_vm._l((_vm.artistList),function(item,index){return _c('li',{key:item.letter,class:{ active: _vm.activeNav === index },on:{\"click\":function($event){return _vm.navJump(index)}}},[_c('span',[_vm._v(_vm._s(item.letter.substr(0, 1)))])])}),0)])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-37722578\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/views/find/artist.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-37722578\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./artist.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./artist.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./artist.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-37722578\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./artist.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-37722578\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/views/find/artist.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}